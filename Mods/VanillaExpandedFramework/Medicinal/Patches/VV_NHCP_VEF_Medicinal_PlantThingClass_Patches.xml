<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!-- Grows best in rocky soil -->
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_LavenderPlant"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_LavenderPlant"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_PrefersRocky</thingClass>
                    </value>
                </li>
                <li Class="NewHarvestPatches.EditString">
                    <xpath>/Defs/ThingDef[defName="VV_LavenderPlant"]/description</xpath>
                    <mode>AppendWhole</mode>
                    <replaceWith>\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Lavender shows a marked preference for rocky soils, flourishing in them.</replaceWith>
                </li>
            </operations>
        </match>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_ThymePlant"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_ThymePlant"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_PrefersRocky</thingClass>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="VV_ThymePlant"]/description</xpath>
                    <value>
                        <description>A fragrant herb with small purple flowers and tiny green leaves. Thyme has been traditionally used for respiratory and digestive issues, and makes a flavorful tea.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Thyme shows a marked preference for rocky soils, flourishing in them.</description>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
    <!-- Resistant to damage -->
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_GinkgoTree"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_GinkgoTree"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_Resistant</thingClass>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="VV_GinkgoTree"]/description</xpath>
                    <value>
                        <description>A unique deciduous tree with fan-shaped leaves and a long lifespan, known for its medicinal properties and resilience. Ginkgo leaves are commonly used in herbal teas to improve memory and circulation.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Ginkgo trees are very resistant to damage. They take less damage from prolonged lack of light, and will regenerate damage caused by any other means.</description>
                    </value>
                </li>
                <!-- Make it live 1000 days -->
                <li Class="NewHarvestPatches.AddOrReplace">
                    <xpath>/Defs/ThingDef[defName="VV_GinkgoTree"]/plant</xpath>
                    <value>
                        <lifespanDaysPerGrowDays>25</lifespanDaysPerGrowDays>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_LemonBalmPlant"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_LemonBalmPlant"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_Resistant</thingClass>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="VV_LemonBalmPlant"]/description</xpath>
                    <value>
                        <description>A fragrant medicinal herb from the mint family, lemon balm is prized for its soothing, mood-lifting effects and is often used in advanced herbal medicine.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Lemon balm plants are very resistant to damage. They take less damage from prolonged lack of light, and will regenerate damage caused by any other means.</description>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
    <!-- Requires shade (outside, unroofed) -->
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_GinsengPlant"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_GinsengPlant"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_NeedsOutside</thingClass>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="VV_GinsengPlant"]/description</xpath>
                    <value>
                        <description>A hardy medicinal plant cultivated for its thick, forked root, ginseng is renowned for boosting vitality and resilience and is a prized ingredient in traditional decoctions.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Ginseng plants need to be grown in shade: outside, but under roof. They won't grow inside.</description>
                    </value>
                </li>
                <!-- Try to remove it from wild spawning in biomes -->
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/BiomeDef/wildPlants/VV_GinsengPlant</xpath>
                    <match Class="PatchOperationRemove">
                        <xpath>/Defs/BiomeDef/wildPlants/VV_GinsengPlant</xpath>
                    </match>
                </li>
                <!-- Allow to actually grow in shade - Credit: Rhaken -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_GinsengPlant"]/plant</xpath>
                    <value>
                        <growMinGlow>0</growMinGlow>
                        <growOptimalGlow>0</growOptimalGlow>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
    <!-- Grows normally when near water, otherwise 25% penalty. -->
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="VV_MarshmallowPlant"][not(thingClass)]</xpath>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VV_MarshmallowPlant"]</xpath>
                    <value>
                        <thingClass>VEF.Plants.Plant_WaterNearby</thingClass>
                    </value>
                </li>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="VV_MarshmallowPlant"]/description</xpath>
                    <value>
                        <description>A soft-stemmed medicinal herb with pale flowers and fleshy roots. Traditionally used in herbal remedies for wound healing.\n\n&lt;color=#E5E54C&gt;Gameplay effect:&lt;/color&gt; Marshmallow plants grow 25% slower when not grown within 6 tiles of water.</description>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>